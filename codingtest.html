<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Editor 3D Minimal</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #f4f4f4;
    }

    canvas {
      display: block;
    }

    .ui-right {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      width: 200px;
      background: white;
      border-left: 1px solid #ddd;
      display: flex;
      flex-direction: column;
      padding: 20px;
      gap: 10px;
      box-shadow: -2px 0 5px rgba(0,0,0,0.05);
      z-index: 10;
    }

    .ui-right button {
      padding: 10px;
      border: 1px solid #ccc;
      background: white;
      cursor: pointer;
      transition: background 0.2s;
    }

    .ui-right button:hover {
      background: #eee;
    }

    .ui-left {
      position: absolute;
      top: 0;
      left: 0;
      width: 250px;
      height: 100%;
      background: white;
      border-right: 1px solid #ddd;
      padding: 20px;
      display: none;
      z-index: 10;
      box-shadow: 2px 0 5px rgba(0,0,0,0.05);
    }

    label {
      display: block;
      margin-top: 10px;
      font-size: 14px;
    }

    input[type="color"] {
      margin-top: 5px;
    }
  </style>
</head>
<body>

  <!-- Canvas Three.js -->
  <canvas id="scene"></canvas>

  <!-- Menú lateral derecho -->
  <div class="ui-right">
    <button id="editEnv">Editar entorno</button>
    <button>Añadir productos</button>
    <button>Añadir atención al cliente</button>
  </div>

  <!-- Panel lateral izquierdo de edición -->
  <div class="ui-left" id="envPanel">
    <h4>Opciones del entorno</h4>
    <label for="bgColor">Color de fondo:</label>
    <input type="color" id="bgColor" value="#cceeff">
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/build/three.min.js"></script>
  <script>
    const canvas = document.getElementById("scene");
    const renderer = new THREE.WebGLRenderer({ canvas });
    renderer.setSize(window.innerWidth, window.innerHeight);

    const scene = new THREE.Scene();
    scene.background = new THREE.Color('#cceeff');

    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 100);
    camera.position.set(5, 5, 5);
    camera.lookAt(0, 0, 0);

    const grid = new THREE.GridHelper(20, 20);
    scene.add(grid);

    const plane = new THREE.Mesh(
      new THREE.PlaneGeometry(20, 20),
      new THREE.MeshStandardMaterial({ color: 0xffffff, side: THREE.DoubleSide })
    );
    plane.rotation.x = -Math.PI / 2;
    scene.add(plane);

    const light = new THREE.DirectionalLight(0xffffff, 1);
    light.position.set(10, 20, 10);
    scene.add(light);

    function animate() {
      requestAnimationFrame(animate);
      renderer.render(scene, camera);
    }

    animate();

    // Panel lateral de entorno
    const editBtn = document.getElementById("editEnv");
    const envPanel = document.getElementById("envPanel");
    editBtn.addEventListener("click", () => {
      envPanel.style.display = envPanel.style.display === "none" ? "block" : "none";
    });

    // Cambiar color de fondo
    document.getElementById("bgColor").addEventListener("input", (e) => {
      scene.background = new THREE.Color(e.target.value);
    });

    // Resize
    window.addEventListener("resize", () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
